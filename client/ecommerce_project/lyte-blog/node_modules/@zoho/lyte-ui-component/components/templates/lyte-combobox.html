<template tag-name="lyte-combobox">
	<lyte-dropdown class="{{ltPropDropdownClass}} {{if(ifEquals(ltPropType,'buttonSearch'),'lyteComboboxButtonSearch','lyteComboboxBoxSearch')}} {{if(isSearch,'lyteComboboxSearchPresent')}}" lt-prop = {{stringify(ltPropDropdown)}} lt-prop-selected = {{ltPropDropdownSelected}} lt-prop-options={{ltPropOptions}} lt-prop-disabled-list={{ltPropDisabledList}} on-option-selected="{{method('optionSelect')}}" on-show="{{method('dropBoxOpen')}}"  on-animation-end="{{method('onAnimateEnd')}}" on-before-show="{{method('beforeDropboxShow')}}" on-hide="{{method('hideDropbox')}}" on-before-hide="{{method('beforeHideDropbox')}}" on-scroll="{{method('scrollDropBox')}}"
	 lt-prop-freeze="{{if(ltPropType == 'buttonSearch',false,true)}}" lt-prop-yield = true>
		<template is="registerYield" yield-name="yield"> 
			<%if(! ltPropYield ) {%>
				<lyte-drop-button> 
		  	  		<% if( !selectValue ) { %>
						<% if( ltPropDropdown.displayValue ) { %>
						<span class="lyteMarginRight lyteDropdownLabel" onmouseenter={{action('toolTipConfig',this)}} lt-prop-title={{if(showToolTip,ltPropDropdown.displayValue,'')}} lt-prop-tooltip-config={{ltPropTooltip}}>{{ltPropDropdown.displayValue}}</span>
						<% } else if( ltPropDropdown.placeholder ) { %>
						 	<span class="lyteDropPlaceholderNormal">{{ltPropDropdown.placeholder}}</span>
						<% } else {%>
						 	<span class="lyteMarginRight lyteDropdownLabel" onmouseenter={{action('toolTipConfig',this)}} lt-prop-title={{if(showToolTip,initialValue,'')}} lt-prop-tooltip-config={{ltPropTooltip}}>{{initialValue}}</span>
						<% } %>
					<% } else { %>
						<span class="lyteMarginRight lyteDropdownLabel" onmouseenter={{action('toolTipConfig',this)}} lt-prop-title={{if(showToolTip,selectValue,'')}} lt-prop-tooltip-config={{ltPropTooltip}}>{{selectValue}}</span>

					<% } %>
					<% if( isSearch && ltPropType == 'buttonSearch' ){ %>
                        <lyte-input class="lyteComboboxBtnSearchInput" lt-prop-type="search" lt-prop-close-icon=true lt-prop-appearance ={{ltPropDropboxSearchAppearance}} lt-prop-class = "lyteComboboxBtnSearchOrigIpt" lt-prop-placeholder = {{ltPropSearchplaceholder}}  on-value-change="{{method('searchList')}}" on-clear="{{method('onSearchClear')}}"
                         oninput="{{action('oninput',this)}}"></lyte-input>

				  	<% } %>
					<lyte-icon class="dropdown"></lyte-icon>
				</lyte-drop-button> 
				<lyte-drop-box class="{{ltPropBoxClass}}"> 

					<% if( isSearch && ltPropType == 'boxSearch' ){ %>
					<lyte-drop-header>
				  	  	<!-- <lyte-search lt-prop-placeholder=""  lt-prop-query-selector='{"scope" : "lyte-drop-body","search" : "lyte-drop-item","related" : "lyte-drop-group"}' on-search="{{method('searchList')}}" class="SearchIcon dB" lt-prop-class="{{focusClass}}" ></lyte-search> -->
                        <lyte-input lt-prop-close-icon="true" lt-prop-type="search" class="lyteComboboxDropboxSearch" lt-prop-class="lyteComboboxDropboxSearchOrigIpt" lt-prop-appearance ={{ltPropDropboxSearchAppearance}} lt-prop-placeholder = {{ltPropSearchplaceholder}}  on-value-change="{{method('searchList')}}" on-clear="{{method('onSearchClear')}}"></lyte-input>

				  	</lyte-drop-header>
				  	<% } %>
				  	<lyte-drop-body>
					<% ltPropOptions.forEach(function(item,indexVal){ 
						if(lyteUiOptGroupCheck(item)){ %>
							<lyte-drop-group>
								<lyte-drop-label>{{lyteUiReturnOnlyKey(item)}}</lyte-drop-label>
								<% lyteUiReturnValueBy(item,lyteUiReturnOnlyKey(item)).forEach(function(subitem,indexval){ %>
									<% if(lyteUiIsObject(subitem)) {%>
										<lyte-drop-item data-value={{subitem[ltPropDropdown.systemValue]}} disabled={{lyteUiCheckDisabled(ltPropDisabledList,subitem[ltPropDropdown.systemValue])}}>{{subitem[ltPropDropdown.userValue]}}</lyte-drop-item>
									<% } else { %>
										<lyte-drop-item data-value={{subitem}} disabled={{lyteUiCheckDisabled(ltPropDisabledList,subitem)}}>{{subitem}}</lyte-drop-item>
									<% } %>
								<% }) %>
							</lyte-drop-group>
						<% } else { %>
							<% if(lyteUiIsObject(item)) {%>
								<lyte-drop-item data-value={{item[ltPropDropdown.systemValue]}} disabled={{lyteUiCheckDisabled(ltPropDisabledList,item[ltPropDropdown.systemValue])}}>{{item[ltPropDropdown.userValue]}}</lyte-drop-item>
							<% } else { %>
								<lyte-drop-item data-value={{item}} disabled={{lyteUiCheckDisabled(ltPropDisabledList,item)}}>{{item}}</lyte-drop-item>
							<% } %>
						<% } %>
					<% }) %>
					
			  	  	  	  <% if(showNoResult){%>
                              <div class="lyteDropdownNoResult lyteComboboxNoResult"> {{ltPropNoResultMessage}} </div>
			  	  	  	  <%}%>
			  	  	
		  	  	  </lyte-drop-body> 
		  	  </lyte-drop-box > 
		  	  <%} else {%>
			  	  		<lyte-drop-button > 
			  	  			<lyte-yield is="registerYield" yield-name="headerYield">
			  	  			</lyte-yield>
			  	  			<% if( isSearch && ltPropType == 'buttonSearch' ){ %>
						  	  	<lyte-input class="lyteComboboxBtnSearchInput" lt-prop-close-icon=true lt-prop-appearance ={{ltPropDropboxSearchAppearance}} lt-prop-type="search" lt-prop-class = "lyteComboboxBtnSearchOrigIpt" lt-prop-placeholder = {{ltPropSearchplaceholder}}  on-value-change="{{method('searchList')}}" on-clear="{{method('onSearchClear')}}"></lyte-input>
						  	<% } %>
			  	  		</lyte-drop-button>
			  	  		<lyte-drop-box class="{{ltPropBoxClass}}">
			  	  			<% if( isSearch && ltPropType == 'boxSearch' ){ %>
								<lyte-drop-header>
								  	  	<!-- <lyte-search lt-prop-placeholder=""  lt-prop-query-selector='{"scope" : "lyte-drop-body","search" : "lyte-drop-item","related" : "lyte-drop-group"}' on-search="{{method('searchList')}}" class="SearchIcon dB" lt-prop-class="{{focusClass}}" ></lyte-search> -->
								<lyte-input class="lyteComboboxDropboxSearch" lt-prop-close-icon=true lt-prop-appearance ={{ltPropDropboxSearchAppearance}} lt-prop-class = "lyteComboboxDropboxSearchOrigIpt" lt-prop-placeholder = {{ltPropSearchplaceholder}}  on-value-change="{{method('searchList')}}" lt-prop-type="search" on-clear="{{method('onSearchClear')}}"></lyte-input>
								  </lyte-drop-header>
				  			<% } %>
			  	  			<lyte-drop-body>
			  	  				
				  	  		<lyte-yield is="registerYield" yield-name="bodyYield">
				  	  		</lyte-yield>
				  	  		<% if(showNoResult){%>
                              <div class="lyteDropdownNoResult lyteComboboxNoResult"> {{ltPropNoResultMessage}} </div>
			  	  	  	  	<%}%>
			  	  			</lyte-drop-body>
				
				  	  		<lyte-yield is="registerYield" yield-name="footerYield">
				  	  		</lyte-yield>
			  	  		</lyte-drop-box>
			  	  	<%}%>
		</template> 
	</lyte-dropdown> 
</template>