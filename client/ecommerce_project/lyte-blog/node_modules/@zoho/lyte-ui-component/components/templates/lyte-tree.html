<template tag-name="lyte-tree">
  <% ltPropData.forEach(function(item, index){%>
    <div class="lyteTreeBodyDiv">
      <lyte-tree-body data-index = "{{lyteUiTreeIndexHelp(indexVar, index)}}" class="{{lyteUiTreeClassHelp(item.defaultState,item.collapsed
        ,ltPropWrapperOpenClass,ltPropWrapperCloseClass)}}" data-level = "{{lyteUiTreeLevelHelp(indexVar, index)}}">
        <div class="mainContainer lyteTreeMainContainer {{lyteUiTreeChildHelp(item , ltPropLeafContainer , ltPropChildrenValue)}} {{lyteUiTreeHasChildHelp(item)}} {{lyteTreeMaxChild(indexVar,index,ltPropMaxLevel)}}">
        <lyte-yield collapsed = "{{if(item.collapsed, 'collapsed', '')}}" yield-name="content" list-value={{item}} class="{{lyteUiTreeChildHelp(item , ltPropLeafNodeClass , ltPropChildrenValue)}}"></lyte-yield>
        <% if(lyteUiTreeMaxLevelHelp(indexVar , index , ltPropMaxLevel)) {%>
          <%if(item[ltPropChildrenValue]["length"] !== 0 && item[ltPropChildrenValue] !== undefined && !item.collapsed){ %>
            <%if((!item.defaultState)||(item.defaultState === "open")){%>
              <lyte-tree class="lyteTreeOpened lyteTreeChildrenLevel" lt-prop-children-value={{ltPropChildrenValue}} index-var = "{{lyteUiTreeIndexHelp(indexVar, index)}}" lt-prop-data={{item[ltPropChildrenValue]}} id="{{ltPropId}}" lt-prop-tree-lines={{ltPropTreeLines}} lt-prop-yield={{ltPropYield}} lt-prop-open-class={{ltPropOpenClass}} lt-prop-wrapper-open-class={{ltPropWrapperOpenClass}} lt-prop-leaf-node-class={{ltPropLeafNodeClass}} lt-prop-close-class={{ltPropCloseClass}} lt-prop-wrapper-close-class={{ltPropWrapperCloseClass}} lt-prop-max-level={{ltPropMaxLevel}} on-toggle = "{{method('onToggle')}}" on-toggle-end = "{{method('onToggleEnd')}}">
                <template is="registerYield" yield-name="content" from-parent>
                 </template>
              </lyte-tree>
            <%} else if(item.defaultState === "close"){%>
                <lyte-tree class="lyteTreeClosed lyteTreeChildrenLevel" lt-prop-children-value={{ltPropChildrenValue}} index-var = "{{lyteUiTreeIndexHelp(indexVar, index)}}" lt-prop-data={{item[ltPropChildrenValue]}} id="{{ltPropId}}" lt-prop-tree-lines={{ltPropTreeLines}} lt-prop-yield={{ltPropYield}} lt-prop-open-class={{ltPropOpenClass}} lt-prop-wrapper-open-class={{ltPropWrapperOpenClass}} lt-prop-leaf-node-class={{ltPropLeafNodeClass}} lt-prop-close-class={{ltPropCloseClass}} lt-prop-wrapper-close-class={{ltPropWrapperCloseClass}} lt-prop-max-level={{ltPropMaxLevel}} on-toggle = "{{method('onToggle')}}" on-toggle-end = "{{method('onToggleEnd')}}">
                  <template is="registerYield" yield-name="content" from-parent>
                  </template>
               </lyte-tree>
              <%}%>
            <%}%>
         <% } %>
        </div>
      </lyte-tree-body>
  </div>
  <%})%>
</template>
