<template tag-name="lyte-reaction-view">
	<lyte-modal id = "lyteNoteReactionModal" lt-prop-show = {{lbind(show)}} lt-prop-height = '70%' lt-prop-offset = '{"top" : "center", "left" : "center"}' lt-prop-wrapper-class = "lyteNoteReactionViewModal">
		<template is = "registerYield" yield-name = "modal">
			<lyte-modal-header>
				<div class="lyteNoteReactionTabHeader">
					<%emojiArray.forEach( function( item, index ){
						if( item.reacted.length ){%>
						<span onclick="{{action('reaction',index)}}" class="lyteReactionTab {{if(ifEquals(item.value,selected), 'lyteReactionActive', '')}}">
							<span class="lyteReactionEmoji {{item.class}}">{{unescape(item.value)}}</span>
							<span class="lyteReactionCount">{{item.reacted.length}}</span>
						</span>
					<%}})%>
				</div>
				<div class="lyteNoteReactionSearchWrapper">
					<input class="lyteNoteReactionSearchInput" oninput="{{action('searchInTable',this)}}" lt-prop-placeholder = {{ltPropPlaceholder}} value="{{lbind(inputValue)}}">
				</div>
			</lyte-modal-header>
			<lyte-modal-content>
				<lyte-table class = "lyteNoteReactionTable" lt-prop-yield = true lt-prop-infinite-scroll = true lt-prop-content = {{renderArray}} lt-prop-content-length = 50>
					<template is = "registerYield" yield-name = "yield">
						<lyte-table-structure>
							<lyte-tbody>
								<%ltPropData.forEach( function( item ){%>
									<lyte-tr onclick = "{{action('rowclick',this,event,item)}}">
										<lyte-td>
											<div class="lyteReactionAvatar" data-reaction-value = "{{item.body.value}}">
												<img src={{item.body.item.avatar}}>
											</div>
											<div class="lyteReactionDetailWrapper">
												<div class="lyteReactionDetail">
													<lyte-text class = "lyteReactionName" lt-prop-tooltip-class = "lyteNoteReactionTooltip" lt-prop-tooltip-config = {{ltPropTooltipConfig}} lt-prop-value = {{item.body.item.name}}></lyte-text>
													<span class = "lyteReactionTime" lt-prop-title = {{item.body.createdTime.tooltip}} lt-prop-tooltip-class = "lyteReactionTimeTooltip">{{item.body.createdTime.display}}</span>
												</div>
												<lyte-text class = "lyteReactionEmail" lt-prop-tooltip-class = "lyteNoteReactionTooltip" lt-prop-tooltip-config = {{ltPropTooltipConfig}} lt-prop-value = {{item.body.item.email}}></lyte-text>	
											</div>
										</lyte-td>
									</lyte-tr>
								<%})%>
							</lyte-tbody>
						</lyte-table-structure>
					</template>
				</lyte-table>
				<%if(renderArray.length == 0){%>
					<div class="lyteReactionNoResult">{{ltPropText.noResult}}</div>
				<%}%>
			</lyte-modal-content>
		</template>
	</lyte-modal>
</template>