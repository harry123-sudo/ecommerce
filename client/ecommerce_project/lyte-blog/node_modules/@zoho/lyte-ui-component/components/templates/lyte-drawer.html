<template tag-name="lyte-drawer">
    <%if(ltPropLayout == "modal"){%>
        <%if(ltPropYield){%>
            <lyte-modal lt-prop={{stringify(ltPropModal)}} lt-prop-allow-multiple = true lt-prop-show-close-button=false lt-prop-close-on-escape=false lt-prop-width={{ltPropWidth}} lt-prop-wrapper-class={{ltPropWrapperClass}}
            lt-prop-height={{ltPropHeight}} lt-prop-freeze={{ltPropFreeze}} on-before-show='{{method("modalOnBeforeShow")}}' 
            on-show = '{{method("modalOnShow")}}' on-close='{{method("modalOnClose")}}' on-before-close='{{method("modalOnBeforeClose")}}'>
                <template is="registerYield" yield-name="modal">
                        <lyte-modal-content onclick='{{action("selectedItem",event,"modal")}}'>
                                <lyte-yield yield-name="drawerPanel"></lyte-yield>
                        </lyte-modal-content>
                </template>
            </lyte-modal>
        <%}else{%>
            <lyte-modal lt-prop={{stringify(ltPropModal)}} lt-prop-allow-multiple = true lt-prop-show-close-button=false lt-prop-close-on-escape=false lt-prop-width={{ltPropWidth}} lt-prop-wrapper-class={{{{ltPropWrapperClass}}}}
            lt-prop-height={{ltPropHeight}} lt-prop-freeze={{ltPropFreeze}} on-before-show='{{method("modalOnBeforeShow")}}' on-show = '{{method("modalOnShow")}}' on-close='{{method("modalOnClose")}}' 
            on-before-close='{{method("modalOnBeforeClose")}}'>
                <template is="registerYield" yield-name="modal"> 
                    <lyte-modal-content onclick='{{action("selectedItem",event,"modal")}}'>
                        <lyte-drawer-body>
                            <%ltPropOptions.forEach(function(item,index){
                                if(lyteUiOptGroupCheck(item)){ %>
                                    <lyte-drawer-group>
                                        <lyte-drawer-label>
                                            {{lyteUiReturnOnlyKey(item)}}
                                        </lyte-drawer-label>
                                        <% lyteUiReturnValueBy(item,lyteUiReturnOnlyKey(item)).forEach(function(subitem,indexval){ %>
                                            <% if(lyteUiIsObject(subitem)){%>
                                                <lyte-drawer-item data-value={{subitem[ltPropSystemValue]}}>
                                                    {{subitem[ltPropUserValue]}}
                                                </lyte-drawer-item>
                                            <% } else { %>
                                                <lyte-drawer-item data-value={{subitem}}>
                                                    {{subitem}}
                                                </lyte-drawer-item>
                                            <% } 
                                        }) %>
                                    </lyte-drawer-group>
                                <%}else if(lyteUiIsObject(item)){%>
                                    <lyte-drawer-item data-value={{item[ltPropSystemValue]}}>
                                        {{item[ltPropUserValue]}}
                                    </lyte-drawer-item>
                                <%}else{%>
                                    <lyte-drawer-item data-value={{item}}>
                                        {{item}}
                                    </lyte-drawer-item>
                                <%}
                            })%>
                        </lyte-drawer-body>
                    </lyte-modal-content>
                </template>
            </lyte-modal>
        <%}%>
    <%}else{%>
        <div class="lyteDrawerInlineBody {{if(ltPropShow,'drawerPanelShown','drawerPanelHidden')}}" style="height:{{ltPropHeight}};">
        <div class="lyteDrawerPanel" onclick='{{action("selectedItem",event,"inline")}}' style="width:{{ltPropWidth}};">
                <div class="drawerWrapper {{ltPropWrapperClass}}">
                    <%if(ltPropYield){%>
                        <lyte-yield yield-name="drawerPanel">
                        </lyte-yield>
                    <%}else{%>
                        <lyte-drawer-body>
                                <%ltPropOptions.forEach(function(item,index){
                                if(lyteUiOptGroupCheck(item)){ %>
                                    <lyte-drawer-group>
                                        <lyte-drawer-label>
                                            {{lyteUiReturnOnlyKey(item)}}
                                        </lyte-drawer-label>
                                            <% lyteUiReturnValueBy(item,lyteUiReturnOnlyKey(item)).forEach(function(subitem,indexval){ %>
                                            <% if(lyteUiIsObject(subitem)){%>
                                                <lyte-drawer-item data-value={{subitem[ltPropSystemValue]}}>
                                                    {{subitem[ltPropUserValue]}}
                                                </lyte-drawer-item>
                                            <% } else { %>
                                                <lyte-drawer-item data-value={{subitem}}>
                                                    {{subitem}}
                                                </lyte-drawer-item>
                                            <% } 
                                        }) %>
                                    </lyte-drawer-group>
                                <%}else if(lyteUiIsObject(item)){%>
                                    <lyte-drawer-item data-value={{item[ltPropSystemValue]}}>
                                        {{item[ltPropUserValue]}}
                                    </lyte-drawer-item>
                                <%}else{%>
                                    <lyte-drawer-item data-value={{item}}>
                                        {{item}}
                                    </lyte-drawer-item>
                                <%}
                            })%>
                        </lyte-drawer-body>
                    <%}%>
                </div>
            </div>
            <div class="lyteDrawerContent">
                <lyte-yield yield-name="drawerContent">
                </lyte-yield>
            </div>
            <%if(ltPropShow && ltPropFreeze){%>
                <lyte-drawer-freeze style="{{currentPosition}}:{{ltPropWidth}};"></lyte-drawer-freeze>
            <%}%>
        </div>
    <%}%>
</template>