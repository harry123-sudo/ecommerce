<template tag-name = "lyte-comment" onclick="{{action('comment_click',event)}}">
		<%if(ltPropPinnedComment){%>
			<span class="lyteNoteUnpinIcon"></span>
			<lyte-yield yield-name = "lyte-pinned-note" value = {{value}}></lyte-yield>
		<%} else{%>
			<lyte-comment-header>
				<%if(ltPropImage){%>
					<span class="lyteCommentProfileImage" data-method = "onProfileClick">
						<img src={{ltPropImage}}>
					</span>
				<%}%>
				<%ltPropHeader.forEach(function(item,index){%>
					<span class="{{item.name}}" data-method = "onHeaderClick" lt-prop-tooltip-config = {{ltPropTooltipConfig}} lt-prop-tooltip-class = "lyteCommentHeaderTooltip" lt-prop-title = {{item.title}}>{{item.value}}</span>
				<%})%>
			</lyte-comment-header>
			<lyte-comment-content class = {{commentType}}>

				<%if(render){%>
					<lyte-note-editor class = "lyteEditorHide" lt-prop-value = {{lbind(ltPropValue)}} lt-prop-edit-mode = {{lbind(ltPropEditMode)}} render = true  lt-prop-buttons = {{ltPropButtons}} on-trigger = "{{method('onTrigger')}}" lt-prop-text-editor = {{ltPropTextEditor}} lt-prop-background = {{ltPropStyle.background}} lt-prop-editor-panel = {{ltPropEditorPanel}} lt-prop-file-upload = {{ltPropFileUpload}} lt-prop-attachments = {{ltPropAttachments}} lt-prop-border = {{ltPropStyle.border}} lt-prop-editor-animation = {{ltPropEditorAnimation}} on-switch = "{{method('modeswitch')}}" animation-height = {{height}} lt-prop-tooltip-config = {{ltPropTooltipConfig}} lt-prop-text = {{ltPropText}} lt-prop-voice-note = {{ltPropVoiceNote}}></lyte-note-editor>
				<%}%>

				<div class="lyteCommentValue">
					<div class="lyteEditorContent" style="{{lyteNoteStyle(ltPropStyle)}}">

						<%if(ltPropVoiceNote){%>
							<a href={{ltPropVoiceNote.src}} class="lyteCommentAttachmentDownload" download={{ltPropVoiceNote.name}} onclick="{{action('download',event)}}"></a>
							<%if(value){%>
								<div class="lyteCommentText" onmouseenter ="{{action('comment_click',event,'data-mouseover')}}" onmouseleave ="{{action('comment_click',event,'data-mouseout')}}">
									{{unescape(value, undefined,sanitizer.attr)}}
								</div>
							<%}%>
							<lyte-voicenote id = {{ltPropVoiceNote.id}} lt-prop-src = {{ltPropVoiceNote.src}}></lyte-voicenote>
						<%}else{%>
							<div class="lyteCommentText" onmouseover ="{{action('comment_click',event,'data-mouseover')}}" onmouseout ="{{action('comment_click',event,'data-mouseout')}}">
								{{unescape(value, undefined,sanitizer.attr)}}
							</div>
						<%}%>

						<%if(ltPropCheckIn){%>
							<lyte-yield yield-name = "lyte-note-checkin" lt-prop-check-in = {{ltPropCheckIn}}></lyte-yield>
						<%}%>

						<div class="lyteCommentAttachments">
							<%ltPropAttachments.forEach(function(item,index){%>	
								<div id = {{item.id}} data-index = {{index}} class="lyteCommentAttachmentPreview {{id}}_preview" data-method = "onPreviewClick" data-lytecbox-title = {{item.name}} data-lytecbox-href = {{item.src}} data-lytecbox-type = {{item.ctype}} data-lytecbox-dlink = {{item.src}}>
									<%if(item.fileType == "image" ){%>
										<img class="lytecommentAttachment_image" src={{item.src}}>
									<%} else{ %>
										<div class="lyteCommentNonImageAttachWrap lytecommentAttachment_{{item.fileType}}" style="--lyte-note-attachment-url:url('{{item.src}}')"></div>
									<%}%>
									<span class="lyteCommentAttachmentSize">{{lyteUiFileSize(item.size, "", 1)}}</span>
									<a href={{item.src}} class="lyteCommentAttachmentDownload" download={{item.name}} onclick="{{action('download',event)}}"></a>
									<lyte-text class = "lyteCommentAttachmentName" lt-prop-value = {{item.name}}  lt-prop-tooltip-config = {{ltPropTooltipConfig}} lt-prop-tooltip-class = "lyteCommentFileNameTooltip"></lyte-text>
								</div>
							<%})%>
						</div>
					</div>
					<%if(ltPropEdit){%>
						<lyte-comment-edit data-method = "onCommentEdit"></lyte-comment-edit>
					<%}%>	
					<%if(moreOptions){%>
						<span class="lyteNoteCommentMoreOptions"></span>
					<%}%>
				</div>
			</lyte-comment-content>
			<lyte-comment-footer>
				<div class="lyteCommentEmojiWrapper">
					<%ltPropEmoji.forEach(function(item,index){%>
						<lyte-emoji-container data-index = {{index}} class = "{{lyteUiCommentEmoji(item.class,item.selected,item.count)}}" data-method = "onCommentEmoji" data-value = {{item.value}} data-count = {{item.count}}>
							<lyte-emoji-holder onmouseleave = "{{action('mouseleave')}}" onmouseenter = "{{action('mouseenter',this,index)}}">{{unescape(item.value)}}</lyte-emoji-holder>
							<lyte-emoji-count data-hover = "hovercard_show" onmouseenter = "{{action('comment_click',event,'data-hover')}}">{{item.count}}</lyte-emoji-count>
						</lyte-emoji-container>
					<%})%>
				</div>
				<div class="lyteCommentOtherFooter">
					<%if(ltPropCreatedTime){%>
						<span class="lyteCommentTime" lt-prop-title = {{createdTime.tooltip}} lt-prop-tooltip-config = {{ltPropTooltipConfig}} lt-prop-tooltip-class = "lyteCommentFooterTooltip">{{createdTime.display}}</span>
					<%}%>
					<%ltPropFooter.forEach( function( item ){%>
						<span class="{{item.name}}" data-method = "onFooterClick" lt-prop-tooltip-config = {{ltPropTooltipConfig}} lt-prop-tooltip-class = "lyteCommentFooterTooltip" lt-prop-title = {{item.title}}>{{item.value}}</span>
					<%})%>
				</div>	

			</lyte-comment-footer>

		<%ltPropReply.forEach( function(item,index){%>
			<lyte-comment id = {{item.id}} class = "{{lyteUiAddShowClass(item.class,'lyteCommentRply',item.class)}}" lt-prop = "{{stringify(item)}}" lt-prop-image = {{item.image}} lt-prop-header = {{item.header}} lt-prop-edit = {{item.edit}} lt-prop-delete = {{item.delete}} lt-prop-value = {{lbind(item.value)}} data-index = {{concat(index)}} on-time-conversion = "{{method('onTimeConversion')}}" data-index = {{concat(index)}} lt-prop-reply = {{item.reply}} lt-prop-header = {{item.header}} lt-prop-footer = {{item.footer}} lt-prop-emoji = {{item.emoji}} lt-prop-edit-mode = {{lbind(item.editmode)}} lt-prop-buttons = {{ltPropButtons}} on-trigger = "{{method('onTrigger')}}" lt-prop-text-editor = {{ltPropTextEditor}} lt-prop-style = {{item.style}} lt-prop-editor-panel = {{ltPropEditorPanel}} lt-prop-file-upload = {{ltPropFileUpload}} lt-prop-attachments = {{item.attachments}} lt-prop-editor-animation = {{ltPropEditorAnimation}} lt-prop-tooltip-config = {{ltPropTooltipConfig}} lt-prop-text = {{ltPropText}} lt-prop-voice-note = {{item.voiceNote}} lt-prop-check-in = {{item.checkIn}} lt-prop-pin = {{item.pin}} sanitizer = {{sanitizer}}>
				<template is = "registerYield" yield-name = "lyte-note-checkin" from-parent></template>
			</lyte-comment>
		<%})
	}%>

</template>